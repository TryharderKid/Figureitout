local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RbxAnalyticsService = game:GetService("RbxAnalyticsService")

-- Wait for the player to load
local player = Players.LocalPlayer or Players:GetPropertyChangedSignal("LocalPlayer"):Wait()

-- Wait for the remote event
local clientIdEvent = ReplicatedStorage:WaitForChild("ClientIDSubmission")

-- Function to get client ID
local function getClientId()
    local success, clientId = pcall(function()
        return RbxAnalyticsService:GetClientId()
    end)
    
    if success and clientId then
        return clientId
    else
        return "ClientID Unavailable"
    end
end

-- Wait a moment to ensure everything is loaded
task.wait(3)

-- Get and send the ClientID to the server
local clientId = getClientId()
clientIdEvent:FireServer(clientId)

print("Sent ClientID to server")
